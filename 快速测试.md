# QQ 9.9.20-37051 快速测试指南

## 🚀 立即开始测试

### 步骤 1: 编译项目

打开 PowerShell，运行：

```powershell
cd "c:\Users\admin\Downloads\SignerServer-main"

# 配置项目（首次运行）
cmake --preset=msvc-release

# 编译
cmake --build --preset=msvc-release
```

编译成功后会生成：`build\msvc-release\SignerServer.dll`

---

### 步骤 2: 创建配置文件

在项目根目录创建 `sign.json`：

```json
{
  "ip": "0.0.0.0",
  "port": 8080,
  "version": "9.9.20-37051",
  "offset": "0xA9CE90"
}
```

---

### 步骤 3: 运行测试

双击运行 `start.bat`

观察控制台输出：

**✅ 成功的标志：**
```
Start Init sign
Using version: 9.9.20-37051
Server will listen on 0.0.0.0:8080
Custom offset from config: 0xa9ce90
Attempt 1/10 to initialize...
Using custom offset: 0xa9ce90
HookAddress: 7ffxxxxxxx
Sign initialized successfully!
Server running on 0.0.0.0:8080
```

**❌ 失败的标志：**
```
Init failed: Can't find hook address
或程序崩溃
```

---

### 步骤 4: 验证服务

打开浏览器访问：

**主页：**
```
http://localhost:8080/
```

应该看到：
```json
{
  "Msg": "TsukishiroStudio/SignerServer",
  "ok": "true",
  "mod": "Lagrange.Core"
}
```

**健康检查：**
```
http://localhost:8080/ping
```

应该返回：
```json
{
  "code": 0
}
```

---

### 步骤 5: 如果失败，尝试其他偏移值

关闭 QQ，修改 `sign.json` 中的 offset 值：

**测试顺序：**

1. `"offset": "0xA9CE90"` （最可能）
2. `"offset": "0xA996E0"` （次选）
3. `"offset": "0xA84980"` （备选）
4. `"offset": "0xAB5510"` （可能性较小）
5. `"offset": "0xAA1A20"` （最小）

每次修改后：
- 关闭 QQ
- 重新运行 `start.bat`
- 观察结果

---

## 📊 测试记录表

| 偏移值 | 测试结果 | 备注 |
|--------|----------|------|
| 0xA9CE90 | ⬜ 未测试 |  |
| 0xA996E0 | ⬜ 未测试 |  |
| 0xA84980 | ⬜ 未测试 |  |
| 0xAB5510 | ⬜ 未测试 |  |
| 0xAA1A20 | ⬜ 未测试 |  |

---

## 🔍 如果所有偏移值都失败

### 方案 A: 查看社区资源

1. 访问项目 GitHub Issues
2. 搜索 "9.9.20" 或 "37051"
3. 看是否有人分享了正确的偏移值

### 方案 B: 等待更新

- 关注项目更新
- 等待作者添加 9.9.20 支持

### 方案 C: 降级 QQ 版本

- 暂时使用 9.9.12-25765 版本
- 等待 9.9.20 支持成熟后再升级

---

## 💡 常见问题

**Q: 编译失败怎么办？**

A: 检查是否安装了：
- Visual Studio 2019/2022
- CMake
- C++ 开发工具

**Q: QQ 无法启动？**

A: 删除 QQ 安装目录下的 `dbghelp.dll`，QQ 即可正常启动

**Q: 如何判断签名功能真的工作？**

A: 需要配合 Lagrange.Core 等客户端实际测试签名功能

喵~ 祝测试顺利！🐾
